/*!
 * Isotope PACKAGED v2.2.0
 *
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 *
 * http://isotope.metafizzy.co
 * Copyright 2015 Metafizzy
 */
(function(b){function c(){}function a(f){function e(i){i.prototype.option||(i.prototype.option=function(j){f.isPlainObject(j)&&(this.options=f.extend(!0,this.options,j))})}function h(k,j){f.fn[k]=function(t){if("string"==typeof t){for(var o=d.call(arguments,1),i=0,l=this.length;l>i;i++){var r=this[i],m=f.data(r,k);if(m){if(f.isFunction(m[t])&&"_"!==t.charAt(0)){var q=m[t].apply(m,o);if(void 0!==q){return q}}else{g("no such method '"+t+"' for "+k+" instance")}}else{g("cannot call methods on "+k+" prior to initialization; attempted to call '"+t+"'")}}return this}return this.each(function(){var n=f.data(this,k);n?(n.option(t),n._init()):(n=new j(this,t),f.data(this,k,n))})}}if(f){var g="undefined"==typeof console?c:function(i){console.error(i)};return f.bridget=function(i,j){e(j),h(i,j)},f.bridget}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],a):"object"==typeof exports?a(require("jquery")):a(b.jQuery)})(window),function(b){function d(j){var h=b.event;return h.target=h.target||h.srcElement||j,h}var a=document.documentElement,f=function(){};a.addEventListener?f=function(j,k,h){j.addEventListener(k,h,!1)}:a.attachEvent&&(f=function(h,e,j){h[e+j]=j.handleEvent?function(){var k=d(h);j.handleEvent.call(j,k)}:function(){var k=d(h);j.call(h,k)},h.attachEvent("on"+e,h[e+j])});var g=function(){};a.removeEventListener?g=function(j,k,h){j.removeEventListener(k,h,!1)}:a.detachEvent&&(g=function(j,k,h){j.detachEvent("on"+k,j[k+h]);try{delete j[k+h]}catch(l){j[k+h]=void 0}});var c={bind:f,unbind:g};"function"==typeof define&&define.amd?define("eventie/eventie",c):"object"==typeof exports?module.exports=c:b.eventie=c}(window),function(){function b(){}function d(j,k){for(var h=j.length;h--;){if(j[h].listener===k){return h}}return -1}function a(e){return function(){return this[e].apply(this,arguments)}}var f=b.prototype,g=this,c=g.EventEmitter;f.getListeners=function(j){var k,h,l=this._getEvents();if(j instanceof RegExp){k={};for(h in l){l.hasOwnProperty(h)&&j.test(h)&&(k[h]=l[h])}}else{k=l[j]||(l[j]=[])}return k},f.flattenListeners=function(j){var k,h=[];for(k=0;j.length>k;k+=1){h.push(j[k].listener)}return h},f.getListenersAsObject=function(j){var k,h=this.getListeners(j);return h instanceof Array&&(k={},k[j]=h),k||h},f.addListener=function(h,e){var k,l=this.getListenersAsObject(h),j="object"==typeof e;for(k in l){l.hasOwnProperty(k)&&-1===d(l[k],e)&&l[k].push(j?e:{listener:e,once:!1})}return this},f.on=a("addListener"),f.addOnceListener=function(h,i){return this.addListener(h,{listener:i,once:!0})},f.once=a("addOnceListener"),f.defineEvent=function(e){return this.getListeners(e),this},f.defineEvents=function(h){for(var i=0;h.length>i;i+=1){this.defineEvent(h[i])}return this},f.removeListener=function(h,e){var k,l,j=this.getListenersAsObject(h);for(l in j){j.hasOwnProperty(l)&&(k=d(j[l],e),-1!==k&&j[l].splice(k,1))}return this},f.off=a("removeListener"),f.addListeners=function(h,i){return this.manipulateListeners(!1,h,i)},f.removeListeners=function(h,i){return this.manipulateListeners(!0,h,i)},f.manipulateListeners=function(j,m,h){var p,q,l=j?this.removeListener:this.addListener,k=j?this.removeListeners:this.addListeners;if("object"!=typeof m||m instanceof RegExp){for(p=h.length;p--;){l.call(this,m,h[p])}}else{for(p in m){m.hasOwnProperty(p)&&(q=m[p])&&("function"==typeof q?l.call(this,p,q):k.call(this,p,q))}}return this},f.removeEvent=function(j){var k,h=typeof j,l=this._getEvents();if("string"===h){delete l[j]}else{if(j instanceof RegExp){for(k in l){l.hasOwnProperty(k)&&j.test(k)&&delete l[k]}}else{delete this._events}}return this},f.removeAllListeners=a("removeEvent"),f.emitEvent=function(j,m){var h,p,q,l,k=this.getListenersAsObject(j);for(q in k){if(k.hasOwnProperty(q)){for(p=k[q].length;p--;){h=k[q][p],h.once===!0&&this.removeListener(j,h.listener),l=h.listener.apply(this,m||[]),l===this._getOnceReturnValue()&&this.removeListener(j,h.listener)}}}return this},f.trigger=a("emitEvent"),f.emit=function(h){var i=Array.prototype.slice.call(arguments,1);return this.emitEvent(h,i)},f.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},f._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},f._getEvents=function(){return this._events||(this._events={})},b.noConflict=function(){return g.EventEmitter=c,b},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return b}):"object"==typeof module&&module.exports?module.exports=b:g.EventEmitter=b}.call(this),function(b){function c(f){if(f){if("string"==typeof d[f]){return f}f=f.charAt(0).toUpperCase()+f.slice(1);for(var h,i=0,g=a.length;g>i;i++){if(h=a[i]+f,"string"==typeof d[h]){return h}}}}var a="Webkit Moz ms Ms O".split(" "),d=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return c}):"object"==typeof exports?module.exports=c:b.getStyleProperty=c}(window),function(b){function f(k){var l=parseFloat(k),j=-1===k.indexOf("%")&&!isNaN(l);return j&&l}function a(){}function g(){for(var k={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},l=0,j=c.length;j>l;l++){var m=c[l];k[m]=0}return k}function h(k){function r(){if(!q){q=!0;var t=b.getComputedStyle;if(o=function(){var n=t?function(s){return t(s,null)}:function(s){return s.currentStyle};return function(v){var s=n(v);return s||d("Style returned "+s+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),s}}(),l=k("boxSizing")){var u=document.createElement("div");u.style.width="200px",u.style.padding="1px 2px 3px 4px",u.style.borderStyle="solid",u.style.borderWidth="1px 2px 3px 4px",u.style[l]="border-box";var p=document.body||document.documentElement;p.appendChild(u);var i=o(u);m=200===f(i.width),p.removeChild(u)}}}function e(C){if(r(),"string"==typeof C&&(C=document.querySelector(C)),C&&"object"==typeof C&&C.nodeType){var H=o(C);if("none"===H.display){return g()}var D={};D.width=C.offsetWidth,D.height=C.offsetHeight;for(var O=D.isBorderBox=!(!l||!H[l]||"border-box"!==H[l]),K=0,G=c.length;G>K;K++){var M=c[K],F=H[M];F=j(C,F);var s=parseFloat(F);D[M]=isNaN(s)?0:s}var J=D.paddingLeft+D.paddingRight,A=D.paddingTop+D.paddingBottom,P=D.marginLeft+D.marginRight,u=D.marginTop+D.marginBottom,p=D.borderLeftWidth+D.borderRightWidth,n=D.borderTopWidth+D.borderBottomWidth,w=O&&m,B=f(H.width);B!==!1&&(D.width=B+(w?0:J+p));var N=f(H.height);return N!==!1&&(D.height=N+(w?0:A+n)),D.innerWidth=D.width-(J+p),D.innerHeight=D.height-(A+n),D.outerWidth=D.width+P,D.outerHeight=D.height+u,D}}function j(v,p){if(b.getComputedStyle||-1===p.indexOf("%")){return p}var w=v.style,x=w.left,u=v.runtimeStyle,t=u&&u.left;return t&&(u.left=v.currentStyle.left),w.left=p,p=w.pixelLeft,w.left=x,t&&(u.left=t),p}var o,l,m,q=!1;return e}var d="undefined"==typeof console?a:function(e){console.error(e)},c=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],h):"object"==typeof exports?module.exports=h(require("desandro-get-style-property")):b.getSize=h(b.getStyleProperty)}(window),function(b){function f(e){"function"==typeof e&&(f.isReady?e():c.push(e))}function a(j){var e="readystatechange"===j.type&&"complete"!==d.readyState;f.isReady||e||g()}function g(){f.isReady=!0;for(var j=0,e=c.length;e>j;j++){var k=c[j];k()}}function h(e){return"complete"===d.readyState?g():(e.bind(d,"DOMContentLoaded",a),e.bind(d,"readystatechange",a),e.bind(b,"load",a)),f}var d=b.document,c=[];f.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],h):"object"==typeof exports?module.exports=h(require("eventie")):b.docReady=h(b.eventie)}(window),function(k){function g(a,i){return a[l](i)}function f(a){if(!a.parentNode){var i=document.createDocumentFragment();i.appendChild(a)}}function c(a,m){f(a);for(var p=a.parentNode.querySelectorAll(m),q=0,i=p.length;i>q;q++){if(p[q]===a){return !0}}return !1}function d(a,e){return f(a),g(a,e)}var b,l=function(){if(k.matches){return"matches"}if(k.matchesSelector){return"matchesSelector"}for(var p=["webkit","moz","ms","o"],a=0,q=p.length;q>a;a++){var s=p[a],m=s+"MatchesSelector";if(k[m]){return m}}}();if(l){var h=document.createElement("div"),j=g(h,"div");b=j?g:d}else{b=c}"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return b}):"object"==typeof exports?module.exports=b:window.matchesSelector=b}(Element.prototype),function(a,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("doc-ready"),require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.docReady,a.matchesSelector)}(window,function(b,d,a){var f={};f.extend=function(j,k){for(var h in k){j[h]=k[h]}return j},f.modulo=function(h,i){return(h%i+i)%i};var g=Object.prototype.toString;f.isArray=function(e){return"[object Array]"==g.call(e)},f.makeArray=function(j){var k=[];if(f.isArray(j)){k=j}else{if(j&&"number"==typeof j.length){for(var h=0,l=j.length;l>h;h++){k.push(j[h])}}else{k.push(j)}}return k},f.indexOf=Array.prototype.indexOf?function(h,i){return h.indexOf(i)}:function(j,k){for(var h=0,l=j.length;l>h;h++){if(j[h]===k){return h}}return -1},f.removeFrom=function(j,k){var h=f.indexOf(j,k);-1!=h&&j.splice(h,1)},f.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},f.setText=function(){function h(j,e){i=i||(void 0!==document.documentElement.textContent?"textContent":"innerText"),j[i]=e}var i;return h}(),f.getParent=function(h,i){for(;h!=document.body;){if(h=h.parentNode,a(h,i)){return h}}},f.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},f.handleEvent=function(h){var i="on"+h.type;this[i]&&this[i](h)},f.filterFindElements=function(v,m){v=f.makeArray(v);for(var k=[],i=0,w=v.length;w>i;i++){var o=v[i];if(f.isElement(o)){if(m){a(o,m)&&k.push(o);for(var q=o.querySelectorAll(m),j=0,l=q.length;l>j;j++){k.push(q[j])}}else{k.push(o)}}}return k},f.debounceMethod=function(j,k,h){var l=j.prototype[k],m=k+"Timeout";j.prototype[k]=function(){var i=this[m];i&&clearTimeout(i);var o=arguments,n=this;this[m]=setTimeout(function(){l.apply(n,o),delete n[m]},h||100)}},f.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(j,k,h){return k+"-"+h}).toLowerCase()};var c=b.console;return f.htmlInit=function(e,h){d(function(){for(var q=f.toDashed(h),x=document.querySelectorAll(".js-"+q),v="data-"+q+"-options",w=0,i=x.length;i>w;w++){var n,o=x[w],r=o.getAttribute(v);try{n=r&&JSON.parse(r)}catch(k){c&&c.error("Error parsing "+v+" on "+o.nodeName.toLowerCase()+(o.id?"#"+o.id:"")+": "+k);continue}var t=new e(o,n),j=b.jQuery;j&&j.data(o,h,t)}})},f}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(c,e,f,d){return b(a,c,e,f,d)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(a.Outlayer={},a.Outlayer.Item=b(a,a.EventEmitter,a.getSize,a.getStyleProperty,a.fizzyUIUtils))}(window,function(q,I,E,A,B){function x(a){for(var c in a){return !1}return c=null,!0}function w(a,c){a&&(this.element=a,this.layout=c,this.position={x:0,y:0},this._create())}var L=q.getComputedStyle,k=L?function(a){return L(a,null)}:function(a){return a.currentStyle},z=A("transition"),F=A("transform"),H=z&&F,J=!!A("perspective"),D={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[z],K=["transform","transition","transitionDuration","transitionProperty"],C=function(){for(var c={},f=0,a=K.length;a>f;f++){var g=K[f],d=A(g);d&&d!==g&&(c[g]=d)}return c}();B.extend(w.prototype,I.prototype),w.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},w.prototype.handleEvent=function(a){var c="on"+a.type;this[c]&&this[c](a)},w.prototype.getSize=function(){this.size=E(this.element)},w.prototype.css=function(c){var d=this.element.style;for(var a in c){var f=C[a]||a;d[f]=c[a]}},w.prototype.getPosition=function(){var c=k(this.element),g=this.layout.options,a=g.isOriginLeft,h=g.isOriginTop,l=parseInt(c[a?"left":"right"],10),f=parseInt(c[h?"top":"bottom"],10);l=isNaN(l)?0:l,f=isNaN(f)?0:f;var d=this.layout.size;l-=a?d.paddingLeft:d.paddingRight,f-=h?d.paddingTop:d.paddingBottom,this.position.x=l,this.position.y=f},w.prototype.layoutPosition=function(){var O=this.layout.size,v=this.layout.options,l={},f=v.isOriginLeft?"paddingLeft":"paddingRight",g=v.isOriginLeft?"left":"right",c=v.isOriginLeft?"right":"left",P=this.position.x+O[f];P=v.percentPosition&&!v.isHorizontal?100*(P/O.width)+"%":P+"px",l[g]=P,l[c]="";var y=v.isOriginTop?"paddingTop":"paddingBottom",N=v.isOriginTop?"top":"bottom",d=v.isOriginTop?"bottom":"top",m=this.position.y+O[y];m=v.percentPosition&&v.isHorizontal?100*(m/O.height)+"%":m+"px",l[N]=m,l[d]="",this.css(l),this.emitEvent("layout",[this])};var b=J?function(a,c){return"translate3d("+a+"px, "+c+"px, 0)"}:function(a,c){return"translate("+a+"px, "+c+"px)"};w.prototype._transitionTo=function(O,v){this.getPosition();var l=this.position.x,f=this.position.y,g=parseInt(O,10),c=parseInt(v,10),P=g===this.position.x&&c===this.position.y;if(this.setPosition(O,v),P&&!this.isTransitioning){return this.layoutPosition(),void 0}var y=O-l,N=v-f,d={},m=this.layout.options;y=m.isOriginLeft?y:-y,N=m.isOriginTop?N:-N,d.transform=b(y,N),this.transition({to:d,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},w.prototype.goTo=function(a,c){this.setPosition(a,c),this.layoutPosition()},w.prototype.moveTo=H?w.prototype._transitionTo:w.prototype.goTo,w.prototype.setPosition=function(a,c){this.position.x=parseInt(a,10),this.position.y=parseInt(c,10)},w.prototype._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var c in a.onTransitionEnd){a.onTransitionEnd[c].call(this)}},w.prototype._transition=function(c){if(!parseFloat(this.layout.options.transitionDuration)){return this._nonTransition(c),void 0}var d=this._transn;for(var a in c.onTransitionEnd){d.onEnd[a]=c.onTransitionEnd[a]}for(a in c.to){d.ingProperties[a]=!0,c.isCleaning&&(d.clean[a]=!0)}if(c.from){this.css(c.from);var f=this.element.offsetHeight;f=null}this.enableTransition(c.to),this.css(c.to),this.isTransitioning=!0};var G=F&&B.toDashed(F)+",opacity";w.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:G,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(D,this,!1))},w.prototype.transition=w.prototype[z?"_transition":"_nonTransition"],w.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},w.prototype.onotransitionend=function(a){this.ontransitionend(a)};var j={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};w.prototype.ontransitionend=function(c){if(c.target===this.element){var d=this._transn,a=j[c.propertyName]||c.propertyName;if(delete d.ingProperties[a],x(d.ingProperties)&&this.disableTransition(),a in d.clean&&(this.element.style[c.propertyName]="",delete d.clean[a]),a in d.onEnd){var f=d.onEnd[a];f.call(this),delete d.onEnd[a]}this.emitEvent("transitionEnd",[this])}},w.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(D,this,!1),this.isTransitioning=!1},w.prototype._removeStyles=function(c){var d={};for(var a in c){d[a]=""}this.css(d)};var M={transitionProperty:"",transitionDuration:""};return w.prototype.removeTransitionStyles=function(){this.css(M)},w.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},w.prototype.remove=function(){if(!z||!parseFloat(this.layout.options.transitionDuration)){return this.removeElem(),void 0}var a=this;this.once("transitionEnd",function(){a.removeElem()}),this.hide()},w.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var c=this.layout.options,d={},a=this.getHideRevealTransitionEndProperty("visibleStyle");d[a]=this.onRevealTransitionEnd,this.transition({from:c.hiddenStyle,to:c.visibleStyle,isCleaning:!0,onTransitionEnd:d})},w.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},w.prototype.getHideRevealTransitionEndProperty=function(c){var d=this.layout.options[c];if(d.opacity){return"opacity"}for(var a in d){return a}},w.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var c=this.layout.options,d={},a=this.getHideRevealTransitionEndProperty("hiddenStyle");d[a]=this.onHideTransitionEnd,this.transition({from:c.visibleStyle,to:c.hiddenStyle,isCleaning:!0,onTransitionEnd:d})},w.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},w.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},w}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,f,g,e,d){return b(a,c,f,g,e,d)}):"object"==typeof exports?module.exports=b(a,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):a.Outlayer=b(a,a.eventie,a.EventEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)}(window,function(w,m,j,d,g,b){function x(f,h){var a=g.getQueryElement(f);if(!a){return q&&q.error("Bad element for "+this.constructor.namespace+": "+(a||f)),void 0}this.element=a,v&&(this.$element=v(this.element)),this.options=g.extend({},this.constructor.defaults),this.option(h);var n=++k;this.element.outlayerGUID=n,l[n]=this,this._create(),this.options.isInitLayout&&this.layout()}var q=w.console,v=w.jQuery,c=function(){},k=0,l={};return x.namespace="outlayer",x.Item=b,x.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},g.extend(x.prototype,j.prototype),x.prototype.option=function(a){g.extend(this.options,a)},x.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),g.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},x.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},x.prototype._itemize=function(p){for(var z=this._filterFindItemElements(p),h=this.constructor.Item,A=[],B=0,y=z.length;y>B;B++){var u=z[B],f=new h(u,this);A.push(f)}return A},x.prototype._filterFindItemElements=function(a){return g.filterFindElements(a,this.options.itemSelector)},x.prototype.getItemElements=function(){for(var f=[],h=0,a=this.items.length;a>h;h++){f.push(this.items[h].element)}return f},x.prototype.layout=function(){this._resetLayout(),this._manageStamps();var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a),this._isLayoutInited=!0},x.prototype._init=x.prototype.layout,x.prototype._resetLayout=function(){this.getSize()},x.prototype.getSize=function(){this.size=d(this.element)},x.prototype._getMeasurement=function(f,n){var a,h=this.options[f];h?("string"==typeof h?a=this.element.querySelector(h):g.isElement(h)&&(a=h),this[f]=a?d(a)[n]:h):this[f]=0},x.prototype.layoutItems=function(a,f){a=this._getItemsForLayout(a),this._layoutItems(a,f),this._postLayout()},x.prototype._getItemsForLayout=function(f){for(var h=[],a=0,p=f.length;p>a;a++){var r=f[a];r.isIgnored||h.push(r)}return h},x.prototype._layoutItems=function(f,u){if(this._emitCompleteOnItems("layout",f),f&&f.length){for(var a=[],y=0,z=f.length;z>y;y++){var p=f[y],h=this._getItemLayoutPosition(p);h.item=p,h.isInstant=u||p.isLayoutInstant,a.push(h)}this._processLayoutQueue(a)}},x.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},x.prototype._processLayoutQueue=function(f){for(var h=0,a=f.length;a>h;h++){var n=f[h];this._positionItem(n.item,n.x,n.y,n.isInstant)}},x.prototype._positionItem=function(f,h,a,n){n?f.goTo(h,a):f.moveTo(h,a)},x.prototype._postLayout=function(){this.resizeContainer()},x.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},x.prototype._getContainerSize=c,x.prototype._setContainerMeasure=function(f,h){if(void 0!==f){var a=this.size;a.isBorderBox&&(f+=h?a.paddingLeft+a.paddingRight+a.borderLeftWidth+a.borderRightWidth:a.paddingBottom+a.paddingTop+a.borderTopWidth+a.borderBottomWidth),f=Math.max(f,0),this.element.style[h?"width":"height"]=f+"px"}},x.prototype._emitCompleteOnItems=function(E,B){function A(){z.emitEvent(E+"Complete",[B])}function y(){F++,F===f&&A()}var z=this,f=B.length;if(!B||!f){return A(),void 0}for(var F=0,C=0,D=B.length;D>C;C++){var h=B[C];h.once(E,y)}},x.prototype.ignore=function(a){var f=this.getItem(a);f&&(f.isIgnored=!0)},x.prototype.unignore=function(a){var f=this.getItem(a);f&&delete f.isIgnored},x.prototype.stamp=function(f){if(f=this._find(f)){this.stamps=this.stamps.concat(f);for(var h=0,a=f.length;a>h;h++){var n=f[h];this.ignore(n)}}},x.prototype.unstamp=function(f){if(f=this._find(f)){for(var h=0,a=f.length;a>h;h++){var n=f[h];g.removeFrom(this.stamps,n),this.unignore(n)}}},x.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=g.makeArray(a)):void 0},x.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var f=0,h=this.stamps.length;h>f;f++){var a=this.stamps[f];this._manageStamp(a)}}},x.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),f=this.size;this._boundingRect={left:a.left+f.paddingLeft+f.borderLeftWidth,top:a.top+f.paddingTop+f.borderTopWidth,right:a.right-(f.paddingRight+f.borderRightWidth),bottom:a.bottom-(f.paddingBottom+f.borderBottomWidth)}},x.prototype._manageStamp=c,x.prototype._getElementOffset=function(f){var o=f.getBoundingClientRect(),a=this._boundingRect,p=d(f),h={left:o.left-a.left-p.marginLeft,top:o.top-a.top-p.marginTop,right:a.right-o.right-p.marginRight,bottom:a.bottom-o.bottom-p.marginBottom};return h},x.prototype.handleEvent=function(a){var f="on"+a.type;this[f]&&this[f](a)},x.prototype.bindResize=function(){this.isResizeBound||(m.bind(w,"resize",this),this.isResizeBound=!0)},x.prototype.unbindResize=function(){this.isResizeBound&&m.unbind(w,"resize",this),this.isResizeBound=!1},x.prototype.onresize=function(){function a(){f.resize(),delete f.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var f=this;this.resizeTimeout=setTimeout(a,100)},x.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},x.prototype.needsResizeLayout=function(){var a=d(this.element),f=this.size&&a;return f&&a.innerWidth!==this.size.innerWidth},x.prototype.addItems=function(a){var f=this._itemize(a);return f.length&&(this.items=this.items.concat(f)),f},x.prototype.appended=function(a){var f=this.addItems(a);f.length&&(this.layoutItems(f,!0),this.reveal(f))},x.prototype.prepended=function(f){var h=this._itemize(f);if(h.length){var a=this.items.slice(0);this.items=h.concat(a),this._resetLayout(),this._manageStamps(),this.layoutItems(h,!0),this.reveal(h),this.layoutItems(a)}},x.prototype.reveal=function(f){this._emitCompleteOnItems("reveal",f);for(var h=f&&f.length,a=0;h&&h>a;a++){var n=f[a];n.reveal()}},x.prototype.hide=function(f){this._emitCompleteOnItems("hide",f);for(var h=f&&f.length,a=0;h&&h>a;a++){var n=f[a];n.hide()}},x.prototype.revealItemElements=function(a){var f=this.getItems(a);this.reveal(f)},x.prototype.hideItemElements=function(a){var f=this.getItems(a);this.hide(f)},x.prototype.getItem=function(f){for(var h=0,a=this.items.length;a>h;h++){var n=this.items[h];if(n.element===f){return n}}},x.prototype.getItems=function(f){f=g.makeArray(f);for(var p=[],a=0,u=f.length;u>a;a++){var n=f[a],h=this.getItem(n);h&&p.push(h)}return p},x.prototype.remove=function(f){var n=this.getItems(f);if(this._emitCompleteOnItems("remove",n),n&&n.length){for(var a=0,p=n.length;p>a;a++){var h=n[a];h.remove(),g.removeFrom(this.items,h)}}},x.prototype.destroy=function(){var f=this.element.style;f.height="",f.position="",f.width="";for(var h=0,a=this.items.length;a>h;h++){var p=this.items[h];p.destroy()}this.unbindResize();var r=this.element.outlayerGUID;delete l[r],delete this.element.outlayerGUID,v&&v.removeData(this.element,this.constructor.namespace)},x.data=function(a){a=g.getQueryElement(a);var f=a&&a.outlayerGUID;return f&&l[f]},x.create=function(f,h){function a(){x.apply(this,arguments)}return Object.create?a.prototype=Object.create(x.prototype):g.extend(a.prototype,x.prototype),a.prototype.constructor=a,a.defaults=g.extend({},x.defaults),g.extend(a.defaults,h),a.prototype.settings={},a.namespace=f,a.data=x.data,a.Item=function(){b.apply(this,arguments)},a.Item.prototype=new b,g.htmlInit(a,f),v&&v.bridget&&v.bridget(f,a),a},x.Item=b,x}),function(a,b){"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],b):"object"==typeof exports?module.exports=b(require("outlayer")):(a.Isotope=a.Isotope||{},a.Isotope.Item=b(a.Outlayer))}(window,function(b){function c(){b.Item.apply(this,arguments)}c.prototype=new b.Item,c.prototype._create=function(){this.id=this.layout.itemGUID++,b.Item.prototype._create.call(this),this.sortData={}},c.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var f=this.layout.options.getSortData,g=this.layout._sorters;for(var d in f){var h=g[d];this.sortData[d]=h(this.element,this)}}};var a=c.prototype.destroy;return c.prototype.destroy=function(){a.apply(this,arguments),this.css({display:""})},c}),function(a,b){"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],b):"object"==typeof exports?module.exports=b(require("get-size"),require("outlayer")):(a.Isotope=a.Isotope||{},a.Isotope.LayoutMode=b(a.getSize,a.Outlayer))}(window,function(b,c){function a(d){this.isotope=d,d&&(this.options=d.options[this.namespace],this.element=d.element,this.items=d.filteredItems,this.size=d.size)}return function(){function d(i){return function(){return c.prototype[i].apply(this.isotope,arguments)}}for(var g=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],h=0,f=g.length;f>h;h++){var e=g[h];a.prototype[e]=d(e)}}(),a.prototype.needsVerticalResizeLayout=function(){var f=b(this.isotope.element),d=this.isotope.size&&f;return d&&f.innerHeight!=this.isotope.size.innerHeight},a.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},a.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},a.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},a.prototype.getSegmentSize=function(f,g){var d=f+g,h="outer"+g;if(this._getMeasurement(d,h),!this[d]){var j=this.getFirstItemSize();this[d]=j&&j[h]||this.isotope.size["inner"+g]}},a.prototype.getFirstItemSize=function(){var d=this.isotope.filteredItems[0];return d&&d.element&&b(d.element)},a.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},a.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},a.modes={},a.create=function(d,f){function g(){a.apply(this,arguments)}return g.prototype=new a,f&&(g.options=f),g.prototype.namespace=d,a.modes[d]=g,g},a}),function(a,b){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],b):"object"==typeof exports?module.exports=b(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):a.Masonry=b(a.Outlayer,a.getSize,a.fizzyUIUtils)}(window,function(b,c,a){var d=b.create("masonry");return d.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;){this.colYs.push(0)}this.maxY=0},d.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var g=this.items[0],f=g&&g.element;this.columnWidth=f&&c(f).outerWidth||this.containerWidth}var k=this.columnWidth+=this.gutter,l=this.containerWidth+this.gutter,j=l/k,h=k-l%k,e=h&&1>h?"round":"floor";j=Math[e](j),this.cols=Math.max(j,1)},d.prototype.getContainerWidth=function(){var f=this.options.isFitWidth?this.element.parentNode:this.element,e=c(f);this.containerWidth=e&&e.innerWidth},d.prototype._getItemLayoutPosition=function(x){x.getSize();var q=x.size.outerWidth%this.columnWidth,j=q&&1>q?"round":"ceil",k=Math[j](x.size.outerWidth/this.columnWidth);k=Math.min(k,this.cols);for(var g=this._getColGroup(k),y=Math.min.apply(Math,g),v=a.indexOf(g,y),w={x:this.columnWidth*v,y:y},i=y+x.size.outerHeight,l=this.cols+1-g.length,m=0;l>m;m++){this.colYs[v+m]=i}return w},d.prototype._getColGroup=function(g){if(2>g){return this.colYs}for(var h=[],f=this.cols+1-g,j=0;f>j;j++){var k=this.colYs.slice(j,j+g);h[j]=Math.max.apply(Math,k)}return h},d.prototype._manageStamp=function(m){var j=c(m),g=this._getElementOffset(m),h=this.options.isOriginLeft?g.left:g.right,e=h+j.outerWidth,q=Math.floor(h/this.columnWidth);q=Math.max(0,q);var k=Math.floor(e/this.columnWidth);k-=e%this.columnWidth?0:1,k=Math.min(this.cols-1,k);for(var l=(this.options.isOriginTop?g.top:g.bottom)+j.outerHeight,f=q;k>=f;f++){this.colYs[f]=Math.max(l,this.colYs[f])}},d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},d.prototype._getContainerFitWidth=function(){for(var f=0,g=this.cols;--g&&0===this.colYs[g];){f++}return(this.cols-f)*this.columnWidth-this.gutter},d.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},d}),function(a,b){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],b):"object"==typeof exports?module.exports=b(require("../layout-mode"),require("masonry-layout")):b(a.Isotope.LayoutMode,a.Masonry)}(window,function(k,g){function f(m,n){for(var a in n){m[a]=n[a]}return m}var c=k.create("masonry"),d=c.prototype._getElementOffset,b=c.prototype.layout,l=c.prototype._getMeasurement;f(c.prototype,g.prototype),c.prototype._getElementOffset=d,c.prototype.layout=b,c.prototype._getMeasurement=l;var h=c.prototype.measureColumns;c.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,h.call(this)};var j=c.prototype._manageStamp;return c.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,j.apply(this,arguments)},c}),function(a,b){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],b):"object"==typeof exports?module.exports=b(require("../layout-mode")):b(a.Isotope.LayoutMode)}(window,function(a){var b=a.create("fitRows");return b.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},b.prototype._getItemLayoutPosition=function(d){d.getSize();var f=d.size.outerWidth+this.gutter,c=this.isotope.size.innerWidth+this.gutter;0!==this.x&&f+this.x>c&&(this.x=0,this.y=this.maxY);var g={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+d.size.outerHeight),this.x+=f,g},b.prototype._getContainerSize=function(){return{height:this.maxY}},b}),function(a,b){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],b):"object"==typeof exports?module.exports=b(require("../layout-mode")):b(a.Isotope.LayoutMode)}(window,function(a){var b=a.create("vertical",{horizontalAlignment:0});return b.prototype._resetLayout=function(){this.y=0},b.prototype._getItemLayoutPosition=function(d){d.getSize();var f=(this.isotope.size.innerWidth-d.size.outerWidth)*this.options.horizontalAlignment,c=this.y;return this.y+=d.size.outerHeight,{x:f,y:c}},b.prototype._getContainerSize=function(){return{height:this.y}},b}),function(a,b){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(d,g,h,f,e,c){return b(a,d,g,h,f,e,c)}):"object"==typeof exports?module.exports=b(a,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):a.Isotope=b(a,a.Outlayer,a.getSize,a.matchesSelector,a.fizzyUIUtils,a.Isotope.Item,a.Isotope.LayoutMode)}(window,function(C,x,q,j,k,b,D){function A(a,c){return function(t,f){for(var l=0,d=a.length;d>l;l++){var H=a[l],F=t.sortData[H],G=f.sortData[H];if(F>G||G>F){var e=void 0!==c[H]?c[H]:c,E=e?1:-1;return(F>G?1:-1)*E}}return 0}}var B=C.jQuery,g=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/g,"")},v=document.documentElement,w=v.textContent?function(a){return a.textContent}:function(a){return a.innerText},y=x.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});y.Item=b,y.LayoutMode=D,y.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),x.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var a in D.modes){this._initLayoutMode(a)}},y.prototype.reloadItems=function(){this.itemGUID=0,x.prototype.reloadItems.call(this)},y.prototype._itemize=function(){for(var c=x.prototype._itemize.apply(this,arguments),a=0,d=c.length;d>a;a++){var e=c[a];e.id=this.itemGUID++}return this._updateItemsSortData(c),c},y.prototype._initLayoutMode=function(c){var d=D.modes[c],a=this.options[c]||{};this.options[c]=d.options?k.extend(d.options,a):a,this.modes[c]=new d(this)},y.prototype.layout=function(){return !this._isLayoutInited&&this.options.isInitLayout?(this.arrange(),void 0):(this._layout(),void 0)},y.prototype._layout=function(){var a=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,a),this._isLayoutInited=!0},y.prototype.arrange=function(c){function d(){f.reveal(a.needReveal),f.hide(a.needHide)}this.option(c),this._getIsInstant();var a=this._filter(this.items);this.filteredItems=a.matches;var f=this;this._bindArrangeComplete(),this._isInstant?this._noTransition(d):d(),this._sort(),this._layout()},y.prototype._init=y.prototype.arrange,y.prototype._getIsInstant=function(){var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=a,a},y.prototype._bindArrangeComplete=function(){function c(){d&&a&&f&&h.emitEvent("arrangeComplete",[h.filteredItems])}var d,a,f,h=this;this.once("layoutComplete",function(){d=!0,c()}),this.once("hideComplete",function(){a=!0,c()}),this.once("revealComplete",function(){f=!0,c()})},y.prototype._filter=function(H){var E=this.options.filter;E=E||"*";for(var l=[],f=[],h=[],c=this._getFilterTest(E),I=0,F=H.length;F>I;I++){var G=H[I];if(!G.isIgnored){var d=c(G);d&&l.push(G),d&&G.isHidden?f.push(G):d||G.isHidden||h.push(G)}}return{matches:l,needReveal:f,needHide:h}},y.prototype._getFilterTest=function(a){return B&&this.options.isJQueryFiltering?function(c){return B(c.element).is(a)}:"function"==typeof a?function(c){return a(c.element)}:function(c){return j(c.element,a)}},y.prototype.updateSortData=function(a){var c;a?(a=k.makeArray(a),c=this.getItems(a)):c=this.items,this._getSorters(),this._updateItemsSortData(c)},y.prototype._getSorters=function(){var c=this.options.getSortData;for(var d in c){var a=c[d];this._sorters[d]=m(a)}},y.prototype._updateItemsSortData=function(c){for(var d=c&&c.length,a=0;d&&d>a;a++){var f=c[a];f.updateSortData()}};var m=function(){function a(f){if("string"!=typeof f){return f}var e=g(f).split(" "),p=e[0],u=p.match(/^\[(.+)\]$/),l=u&&u[1],h=c(l,p),d=y.sortDataParsers[e[1]];return f=d?function(i){return i&&d(h(i))}:function(i){return i&&h(i)}}function c(f,h){var d;return d=f?function(i){return i.getAttribute(f)}:function(l){var e=l.querySelector(h);return e&&w(e)}}return a}();y.sortDataParsers={parseInt:function(a){return parseInt(a,10)},parseFloat:function(a){return parseFloat(a)}},y.prototype._sort=function(){var c=this.options.sortBy;if(c){var d=[].concat.apply(c,this.sortHistory),a=A(d,this.options.sortAscending);this.filteredItems.sort(a),c!=this.sortHistory[0]&&this.sortHistory.unshift(c)}},y.prototype._mode=function(){var a=this.options.layoutMode,c=this.modes[a];if(!c){throw Error("No layout mode: "+a)}return c.options=this.options[a],c},y.prototype._resetLayout=function(){x.prototype._resetLayout.call(this),this._mode()._resetLayout()},y.prototype._getItemLayoutPosition=function(a){return this._mode()._getItemLayoutPosition(a)},y.prototype._manageStamp=function(a){this._mode()._manageStamp(a)},y.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},y.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},y.prototype.appended=function(c){var d=this.addItems(c);if(d.length){var a=this._filterRevealAdded(d);this.filteredItems=this.filteredItems.concat(a)}},y.prototype.prepended=function(c){var d=this._itemize(c);if(d.length){this._resetLayout(),this._manageStamps();var a=this._filterRevealAdded(d);this.layoutItems(this.filteredItems),this.filteredItems=a.concat(this.filteredItems),this.items=d.concat(this.items)}},y.prototype._filterRevealAdded=function(a){var c=this._filter(a);return this.hide(c.needHide),this.reveal(c.matches),this.layoutItems(c.matches,!0),c.matches},y.prototype.insert=function(c){var f=this.addItems(c);if(f.length){var a,h,l=f.length;for(a=0;l>a;a++){h=f[a],this.element.appendChild(h.element)}var d=this._filter(f).matches;for(a=0;l>a;a++){f[a].isLayoutInstant=!0}for(this.arrange(),a=0;l>a;a++){delete f[a].isLayoutInstant}this.reveal(d)}};var z=y.prototype.remove;return y.prototype.remove=function(c){c=k.makeArray(c);var f=this.getItems(c);z.call(this,c);var a=f&&f.length;if(a){for(var h=0;a>h;h++){var d=f[h];k.removeFrom(this.filteredItems,d)}}},y.prototype.shuffle=function(){for(var c=0,d=this.items.length;d>c;c++){var a=this.items[c];a.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},y.prototype._noTransition=function(c){var d=this.options.transitionDuration;this.options.transitionDuration=0;var a=c.call(this);return this.options.transitionDuration=d,a},y.prototype.getFilteredItemElements=function(){for(var c=[],d=0,a=this.filteredItems.length;a>d;d++){c.push(this.filteredItems[d].element)}return c},y});