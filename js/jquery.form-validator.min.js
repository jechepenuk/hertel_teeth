!function(d,c){"function"==typeof define&&define.amd?define(["jquery"],function(b){return c(b)}):"object"==typeof exports?module.exports=c(require("jquery")):c(jQuery)}(this,function(b){!function(g,f){function j(d,c){this.$form=d,this.$input=c,this.reset(),c.on("change paste",this.reset.bind(this))}var i=function(){return !1},h={numHalted:0,haltValidation:function(a){this.numHalted++,g.formUtils.haltValidation=!0,a.unbind("submit",i).bind("submit",i).find('*[type="submit"]').addClass("disabled").attr("disabled","disabled")},unHaltValidation:function(a){this.numHalted--,0===this.numHalted&&(g.formUtils.haltValidation=!1,a.unbind("submit",i).find('*[type="submit"]').removeClass("disabled").removeAttr("disabled","disabled"))}};j.prototype.reset=function(){this.haltedFormValidation=!1,this.hasRun=!1,this.isRunning=!1,this.result=f},j.prototype.run=function(d,c){return"keyup"===d?null:this.isRunning?(this.haltedFormValidation||"submit"!==d||(h.haltValidation(),this.haltedFormValidation=!0),null):this.hasRun?this.result:("submit"===d&&(h.haltValidation(this.$form),this.haltedFormValidation=!0),this.isRunning=!0,this.$input.attr("disabled","disabled").addClass("async-validation"),this.$form.addClass("async-validation"),c(function(e){this.done(e)}.bind(this)),null)},j.prototype.done=function(c){this.result=c,this.hasRun=!0,this.isRunning=!1,this.$input.removeAttr("disabled").removeClass("async-validation"),this.$form.removeClass("async-validation"),this.haltedFormValidation?(h.unHaltValidation(this.$form),this.$form.trigger("submit")):this.$input.trigger("validation.revalidate")},g.formUtils=g.extend(g.formUtils||{},{asyncValidation:function(k,c,n){var m,l=c.get(0);return l.asyncValidators||(l.asyncValidators={}),l.asyncValidators[k]?m=l.asyncValidators[k]:(m=new j(n,c),l.asyncValidators[k]=m),m}})}(b),function(h,g){function l(a){a&&"custom"===a.errorMessagePosition&&"function"==typeof a.errorMessageCustom&&(h.formUtils.warn("Use of deprecated function errorMessageCustom, use config.submitErrorMessageCallback instead"),a.submitErrorMessageCallback=function(d,e){a.errorMessageCustom(d,a.language.errorTitle,e,a)})}function k(a){if(a.errorMessagePosition&&"object"==typeof a.errorMessagePosition){h.formUtils.warn("Deprecated use of config parameter errorMessagePosition, use config.submitErrorMessageCallback instead");var d=a.errorMessagePosition;a.errorMessagePosition="top",a.submitErrorMessageCallback=function(){return d}}}function j(a){var d=a.find("[data-validation-if-checked]");d.length&&h.formUtils.warn('Detected use of attribute "data-validation-if-checked" which is deprecated. Use "data-validation-depends-on" provided by module "logic"'),d.on("beforeValidation",function(){var r=h(this),q=r.valAttr("if-checked"),p=h('input[name="'+q+'"]',a),o=p.is(":checked"),n=(h.formUtils.getValue(p)||"").toString(),m=r.valAttr("if-checked-value");(!o||m&&m!==n)&&r.valAttr("skipped",!0)})}function i(a){var f={se:"sv",cz:"cs",dk:"da"};if(a.lang in f){var e=f[a.lang];h.formUtils.warn('Deprecated use of lang code "'+a.lang+'" use "'+e+'" instead'),a.lang=e}}h.fn.validateForm=function(a,d){return h.formUtils.warn("Use of deprecated function $.validateForm, use $.isValid instead"),this.isValid(a,d,!0)},h(window).on("formValidationPluginInit",function(d,c){i(c),l(c),k(c)}).on("validatorsLoaded formValidationSetup",function(a,d){d||(d=h("form")),j(d)})}(b),function(d){var c={resolveErrorMessage:function(i,h,n,m,l){var k=m.validationErrorMsgAttribute+"-"+n.replace("validate_",""),j=i.attr(k);return j||(j=i.attr(m.validationErrorMsgAttribute),j||(j="function"!=typeof h.errorMessageKey?l[h.errorMessageKey]:l[h.errorMessageKey(m)],j||(j=h.errorMessage))),j},getParentContainer:function(a){if(a.valAttr("error-msg-container")){return d(a.valAttr("error-msg-container"))}var f=a.parent();if(!f.hasClass("form-group")&&!f.closest("form").hasClass("form-horizontal")){var e=f.closest(".form-group");if(e.length){return e.eq(0)}}return f},applyInputErrorStyling:function(f,e){f.addClass(e.errorElementClass).removeClass("valid"),this.getParentContainer(f).addClass(e.inputParentClassOnError).removeClass(e.inputParentClassOnSuccess),""!==e.borderColorOnError&&f.css("border-color",e.borderColorOnError)},applyInputSuccessStyling:function(f,e){f.addClass("valid"),this.getParentContainer(f).addClass(e.inputParentClassOnSuccess)},removeInputStylingAndMessage:function(f,i){f.removeClass("valid").removeClass(i.errorElementClass).css("border-color","");var h=c.getParentContainer(f);if(h.removeClass(i.inputParentClassOnError).removeClass(i.inputParentClassOnSuccess),"function"==typeof i.inlineErrorMessageCallback){var g=i.inlineErrorMessageCallback(f,!1,i);g&&g.html("")}else{h.find("."+i.errorMessageClass).remove()}},removeAllMessagesAndStyling:function(g,f){if("function"==typeof f.submitErrorMessageCallback){var a=f.submitErrorMessageCallback(g,!1,f);a&&a.html("")}else{g.find("."+f.errorMessageClass+".alert").remove()}g.find("."+f.errorElementClass+",.valid").each(function(){c.removeInputStylingAndMessage(d(this),f)})},setInlineMessage:function(r,q,p){this.applyInputErrorStyling(r,p);var o,n=document.getElementById(r.attr("name")+"_err_msg"),m=!1,l=function(e){d.formUtils.$win.trigger("validationErrorDisplay",[r,e]),e.html(q)},k=function(){var e=!1;m.find("."+p.errorMessageClass).each(function(){if(this.inputReferer===r[0]){return e=d(this),!1}}),e?q?l(e):e.remove():""!==q&&(o=d('<div class="'+p.errorMessageClass+' alert"></div>'),l(o),o[0].inputReferer=r[0],m.prepend(o))};if(n){d.formUtils.warn("Using deprecated element reference "+n.id),m=d(n),k()}else{if("function"==typeof p.inlineErrorMessageCallback){if(m=p.inlineErrorMessageCallback(r,q,p),!m){return}k()}else{var a=this.getParentContainer(r);o=a.find("."+p.errorMessageClass+".help-block"),0===o.length&&(o=d("<span></span>").addClass("help-block").addClass(p.errorMessageClass),o.appendTo(a)),l(o)}}},setMessageInTopOfForm:function(a,n,m,l){var k='<div class="{errorMessageClass} alert alert-danger"><strong>{errorTitle}</strong><ul>{fields}</ul></div>',j=!1;if("function"!=typeof m.submitErrorMessageCallback||(j=m.submitErrorMessageCallback(a,n,m))){var i={errorTitle:l.errorTitle,fields:"",errorMessageClass:m.errorMessageClass};d.each(n,function(f,e){i.fields+="<li>"+e+"</li>"}),d.each(i,function(f,e){k=k.replace("{"+f+"}",e)}),j?j.html(k):a.children().eq(0).before(d(k))}}};d.formUtils=d.extend(d.formUtils||{},{dialogs:c})}(b),function(f,e,h){var g=0;f.fn.validateOnBlur=function(a,k){var j=this,i=this.find("*[data-validation]");return i.each(function(){var d=f(this);if(d.is("[type=radio]")){var c=j.find('[type=radio][name="'+d.attr("name")+'"]');c.bind("blur.validation",function(){d.validateInputOnBlur(a,k,!0,"blur")}),k.validateCheckboxRadioOnClick&&c.bind("click.validation",function(){d.validateInputOnBlur(a,k,!0,"click")})}}),i.bind("blur.validation",function(){f(this).validateInputOnBlur(a,k,!0,"blur")}),k.validateCheckboxRadioOnClick&&this.find("input[type=checkbox][data-validation],input[type=radio][data-validation]").bind("click.validation",function(){f(this).validateInputOnBlur(a,k,!0,"click")}),this},f.fn.validateOnEvent=function(a,j){var i="FORM"===this[0].nodeName?this.find("*[data-validation-event]"):this;return i.each(function(){var k=f(this),c=k.valAttr("event");c&&k.unbind(c+".validation").bind(c+".validation",function(l){9!==(l||{}).keyCode&&f(this).validateInputOnBlur(a,j,!0,c)})}),this},f.fn.showHelpOnFocus=function(a){return a||(a="data-validation-help"),this.find("textarea,input").each(function(){var j=f(this),i="jquery_form_help_"+ ++g,d=j.attr(a);j.removeClass("has-help-text").unbind("focus.help").unbind("blur.help"),d&&j.addClass("has-help-txt").bind("focus.help",function(){var c=j.parent().find("."+i);0===c.length&&(c=f("<span />").addClass(i).addClass("help").addClass("help-block").text(d).hide(),j.after(c)),c.fadeIn()}).bind("blur.help",function(){f(this).parent().find("."+i).fadeOut("slow")})}),this},f.fn.validate=function(a,k,j){var i=f.extend({},f.formUtils.LANG,j||{});this.each(function(){var m=f(this),l=m.closest("form").get(0)||{},c=l.validationConfig||{};m.one("validation",function(d,n){"function"==typeof a&&a(n,this,d)}),m.validateInputOnBlur(i,f.extend({},c,k||{}),!0)})},f.fn.willPostponeValidation=function(){return(this.valAttr("suggestion-nr")||this.valAttr("postpone")||this.hasClass("hasDatepicker"))&&!e.postponedValidation},f.fn.validateInputOnBlur=function(u,t,s,r){if(f.formUtils.eventType=r,this.willPostponeValidation()){var q=this,p=this.valAttr("postpone")||200;return e.postponedValidation=function(){q.validateInputOnBlur(u,t,s,r),e.postponedValidation=!1},setTimeout(function(){e.postponedValidation&&e.postponedValidation()},p),this}u=f.extend({},f.formUtils.LANG,u||{}),f.formUtils.dialogs.removeInputStylingAndMessage(this,t);var o=this,n=o.closest("form"),m=f.formUtils.validateInput(o,u,t,n,r),a=function(){o.validateInputOnBlur(u,t,!1,"blur.revalidated")};return"blur"===r&&o.unbind("validation.revalidate",a).one("validation.revalidate",a),s&&o.removeKeyUpValidation(),m.shouldChangeDisplay&&(m.isValid?f.formUtils.dialogs.applyInputSuccessStyling(o,t):f.formUtils.dialogs.setInlineMessage(o,m.errorMsg,t)),!m.isValid&&s&&o.validateOnKeyUp(u,t),this},f.fn.validateOnKeyUp=function(a,d){return this.each(function(){var c=f(this);c.valAttr("has-keyup-event")||c.valAttr("has-keyup-event","true").bind("keyup.validation",function(i){9!==i.keyCode&&c.validateInputOnBlur(a,d,!1,"keyup")})}),this},f.fn.removeKeyUpValidation=function(){return this.each(function(){f(this).valAttr("has-keyup-event",!1).unbind("keyup.validation")}),this},f.fn.valAttr=function(d,c){return c===h?this.attr("data-validation-"+d):c===!1||null===c?this.removeAttr("data-validation-"+d):(d=d.length>0?"-"+d:"",this.attr("data-validation"+d,c))},f.fn.isValid=function(v,u,t){if(f.formUtils.isLoadingModules){var s=this;return setTimeout(function(){s.isValid(v,u,t)},200),null}u=f.extend({},f.formUtils.defaultConfig(),u||{}),v=f.extend({},f.formUtils.LANG,v||{}),t=t!==!1,f.formUtils.errorDisplayPreventedWhenHalted&&(delete f.formUtils.errorDisplayPreventedWhenHalted,t=!1);var r=function(c,d){f.inArray(c,p)<0&&p.push(c),o.push(d),d.valAttr("current-error",c),t&&f.formUtils.dialogs.applyInputErrorStyling(d,u)},q=[],p=[],o=[],n=this,m=function(c,i){return"submit"===i||"button"===i||"reset"===i||f.inArray(c,u.ignore||[])>-1};if(t&&f.formUtils.dialogs.removeAllMessagesAndStyling(n,u),n.find("input,textarea,select").filter(':not([type="submit"],[type="button"])').each(function(){var x=f(this),w=x.attr("type"),k="radio"===w||"checkbox"===w,j=x.attr("name");if(!m(j,w)&&(!k||f.inArray(j,q)<0)){k&&q.push(j);var c=f.formUtils.validateInput(x,v,u,n,"submit");c.isValid?c.isValid&&c.shouldChangeDisplay&&(x.valAttr("current-error",!1),f.formUtils.dialogs.applyInputSuccessStyling(x,u)):r(c.errorMsg,x)}}),"function"==typeof u.onValidate){var a=u.onValidate(n);f.isArray(a)?f.each(a,function(d,c){r(c.message,c.element)}):a&&a.element&&a.message&&r(a.message,a.element)}return f.formUtils.isValidatingEntireForm=!1,o.length>0&&t&&("top"===u.errorMessagePosition?f.formUtils.dialogs.setMessageInTopOfForm(n,p,u,v):f.each(o,function(c,i){f.formUtils.dialogs.setInlineMessage(i,i.valAttr("current-error"),u)}),u.scrollToTopOnError&&f.formUtils.$win.scrollTop(n.offset().top-20)),!t&&f.formUtils.haltValidation&&(f.formUtils.errorDisplayPreventedWhenHalted=!0),0===o.length&&!f.formUtils.haltValidation},f.fn.restrictLength=function(a){return new f.formUtils.lengthRestriction(this,a),this},f.fn.addSuggestions=function(a){var d=!1;return this.find("input").each(function(){var c=f(this);d=f.split(c.attr("data-suggestions")),d.length>0&&!c.hasClass("has-suggestions")&&(f.formUtils.suggest(c,d,a),c.addClass("has-suggestions"))}),this}}(b,window),function(c){c.formUtils=c.extend(c.formUtils||{},{isLoadingModules:!1,loadedModules:{},loadModules:function(a,l,k){if(c.formUtils.isLoadingModules){return void setTimeout(function(){c.formUtils.loadModules(a,l,k)},10)}var j=!1,i=function(d,q){var p=c.split(d),o=p.length,n=function(){o--,0===o&&(c.formUtils.isLoadingModules=!1,k&&j&&"function"==typeof k&&k())};o>0&&(c.formUtils.isLoadingModules=!0);var m="?_="+(new Date).getTime(),e=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];c.each(p,function(r,u){if(u=c.trim(u),0===u.length){n()}else{var t=q+u+(".js"===u.slice(-3)?"":".js"),s=document.createElement("SCRIPT");t in c.formUtils.loadedModules?n():(c.formUtils.loadedModules[t]=1,j=!0,s.type="text/javascript",s.onload=n,s.src=t+(".dev.js"===t.slice(-7)?m:""),s.onerror=function(){c.formUtils.warn("Unable to load form validation module "+t)},s.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(n(),this.onload=null,this.onreadystatechange=null)},e.appendChild(s))}})};if(l){i(a,l)}else{var h=function(){var d=!1;return c('script[src*="form-validator"]').each(function(){var e=this.src.split("form-validator")[1].split("node_modules").length>1;if(!e){return d=this.src.substr(0,this.src.lastIndexOf("/"))+"/","/"===d&&(d=""),!1}}),d!==!1&&(i(a,d),!0)};h()||c(h)}}})}(b),function(c){c.split=function(a,l,k){k=void 0===k||k===!0;var j="[,|"+(k?"\\s":"")+"-]\\s*",i=new RegExp(j,"g");if("function"!=typeof l){if(!a){return[]}var h=[];return c.each(a.split(l?l:i),function(d,e){e=c.trim(e),e.length&&h.push(e)}),h}a&&c.each(a.split(i),function(e,f){if(f=c.trim(f),f.length){return l(f,e)}})},c.validate=function(a){var f=c.extend(c.formUtils.defaultConfig(),{form:"form",validateOnEvent:!1,validateOnBlur:!0,validateCheckboxRadioOnClick:!0,showHelpOnFocus:!0,addSuggestions:!0,modules:"",onModulesLoaded:null,language:!1,onSuccess:!1,onError:!1,onElementValidate:!1});if(a=c.extend(f,a||{}),c(window).trigger("formValidationPluginInit",[a]),a.lang&&"en"!==a.lang){var e="lang/"+a.lang+".js";a.modules+=a.modules.length?","+e:e}c(a.form).each(function(i,h){h.validationConfig=a;var g=c(h);g.trigger("formValidationSetup",[g,a]),g.find(".has-help-txt").unbind("focus.validation").unbind("blur.validation"),g.removeClass("has-validation-callback").unbind("submit.validation").unbind("reset.validation").find("input[data-validation],textarea[data-validation]").unbind("blur.validation"),g.bind("submit.validation",function(n){var m=c(this),l=function(){return n.stopImmediatePropagation(),!1};if(c.formUtils.haltValidation){return l()}if(c.formUtils.isLoadingModules){return setTimeout(function(){m.trigger("submit.validation")},200),l()}var k=m.isValid(a.language,a);if(c.formUtils.haltValidation){return l()}if(!k||"function"!=typeof a.onSuccess){return k||"function"!=typeof a.onError?!!k||l():(a.onError(m),l())}var j=a.onSuccess(m);return j===!1?l():void 0}).bind("reset.validation",function(){c.formUtils.dialogs.removeAllMessagesAndStyling(g,a)}).addClass("has-validation-callback"),a.showHelpOnFocus&&g.showHelpOnFocus(),a.addSuggestions&&g.addSuggestions(),a.validateOnBlur&&(g.validateOnBlur(a.language,a),g.bind("html5ValidationAttrsFound",function(){g.validateOnBlur(a.language,a)})),a.validateOnEvent&&g.validateOnEvent(a.language,a)}),""!==a.modules&&c.formUtils.loadModules(a.modules,!1,function(){"function"==typeof a.onModulesLoaded&&a.onModulesLoaded();var d="string"==typeof a.form?c(a.form):a.form;c.formUtils.$win.trigger("validatorsLoaded",[d,a])})}}(b),function(e,d){var f=e(d);e.formUtils=e.extend(e.formUtils||{},{$win:f,defaultConfig:function(){return{ignore:[],errorElementClass:"error",borderColorOnError:"#b94a48",errorMessageClass:"form-error",validationRuleAttribute:"data-validation",validationErrorMsgAttribute:"data-validation-error-msg",errorMessagePosition:"inline",errorMessageTemplate:{container:'<div class="{errorMessageClass} alert alert-danger">{messages}</div>',messages:"<strong>{errorTitle}</strong><ul>{fields}</ul>",field:"<li>{msg}</li>"},scrollToTopOnError:!0,dateFormat:"yyyy-mm-dd",addValidClassOnAll:!1,decimalSeparator:".",inputParentClassOnError:"has-error",inputParentClassOnSuccess:"has-success",validateHiddenInputs:!1,inlineErrorMessageCallback:!1,submitErrorMessageCallback:!1}},validators:{},_events:{load:[],valid:[],invalid:[]},haltValidation:!1,addValidator:function(g){var c=0===g.name.indexOf("validate_")?g.name:"validate_"+g.name;void 0===g.validateOnKeyUp&&(g.validateOnKeyUp=!0),this.validators[c]=g},warn:function(c){"console" in d?"function"==typeof d.console.warn?d.console.warn(c):"function"==typeof d.console.log&&d.console.log(c):alert(c)},getValue:function(h,g){var j=g?g.find(h):h;if(j.length>0){var i=j.eq(0).attr("type");return"radio"===i||"checkbox"===i?j.filter(":checked").val()||"":j.val()||""}return !1},validateInput:function(z,y,x,w,v){x=x||e.formUtils.defaultConfig(),y=y||e.formUtils.LANG;var u=this.getValue(z);z.valAttr("skipped",!1).one("beforeValidation",function(){(z.attr("disabled")||!z.is(":visible")&&!x.validateHiddenInputs)&&z.valAttr("skipped",1)}).trigger("beforeValidation",[u,y,x]);var t="true"===z.valAttr("optional"),s=!u&&t,r=z.attr(x.validationRuleAttribute),q=!0,p="",o={isValid:!0,shouldChangeDisplay:!0,errorMsg:""};if(!r||s||z.valAttr("skipped")){return o.shouldChangeDisplay=x.addValidClassOnAll,o}var a=z.valAttr("ignore");return a&&e.each(a.split(""),function(g,c){u=u.replace(new RegExp("\\"+c,"g"),"")}),e.split(r,function(g){0!==g.indexOf("validate_")&&(g="validate_"+g);var c=e.formUtils.validators[g];if(!c){throw new Error('Using undefined validator "'+g+'". Maybe you have forgotten to load the module that "'+g+'" belongs to?')}if("validate_checkbox_group"===g&&(z=w.find('[name="'+z.attr("name")+'"]:eq(0)')),("keyup"!==v||c.validateOnKeyUp)&&(q=c.validatorFunction(u,z,x,y,w,v)),!q){return x.validateOnBlur&&z.validateOnKeyUp(y,x),p=e.formUtils.dialogs.resolveErrorMessage(z,c,g,x,y),!1}}),q===!1?(z.trigger("validation",!1),o.errorMsg=p,o.isValid=!1,o.shouldChangeDisplay=!0):null===q?o.shouldChangeDisplay=!1:(z.trigger("validation",!0),o.shouldChangeDisplay=!0),"function"==typeof x.onElementValidate&&null!==p&&x.onElementValidate(o.isValid,z,w,p),z.trigger("afterValidation",[o,v]),o},parseDate:function(x,w,v){var u,t,s,r,q=w.replace(/[a-zA-Z]/gi,"").substring(0,1),p="^",o=w.split(q||null);if(e.each(o,function(g,c){p+=(g>0?"\\"+q:"")+"(\\d{"+c.length+"})"}),p+="$",v){var n=[];e.each(x.split(q),function(g,c){1===c.length&&(c="0"+c),n.push(c)}),x=n.join(q)}if(u=x.match(new RegExp(p)),null===u){return !1}var a=function(g,j,i){for(var h=0;h<j.length;h++){if(j[h].substring(0,1)===g){return e.formUtils.parseDateInt(i[h+1])}}return -1};return s=a("m",o,u),t=a("d",o,u),r=a("y",o,u),!(2===s&&t>28&&(r%4!==0||r%100===0&&r%400!==0)||2===s&&t>29&&(r%4===0||r%100!==0&&r%400===0)||s>12||0===s)&&(!(this.isShortMonth(s)&&t>30||!this.isShortMonth(s)&&t>31||0===t)&&[r,s,t])},parseDateInt:function(c){return 0===c.indexOf("0")&&(c=c.replace("0","")),parseInt(c,10)},isShortMonth:function(c){return c%2===0&&c<7||c%2!==0&&c>7},lengthRestriction:function(a,j){var i=parseInt(j.text(),10),h=0,g=function(){var c=a.val().length;if(c>i){var k=a.scrollTop();a.val(a.val().substring(0,i)),a.scrollTop(k)}h=i-c,h<0&&(h=0),j.text(h)};e(a).bind("keydown keyup keypress focus blur",g).bind("cut paste",function(){setTimeout(g,100)}),e(document).bind("ready",g)},numericRangeCheck:function(a,i){var h=e.split(i),g=parseInt(i.substr(3),10);return 1===h.length&&i.indexOf("min")===-1&&i.indexOf("max")===-1&&(h=[i,i]),2===h.length&&(a<parseInt(h[0],10)||a>parseInt(h[1],10))?["out",h[0],h[1]]:0===i.indexOf("min")&&a<g?["min",g]:0===i.indexOf("max")&&a>g?["max",g]:["ok"]},_numSuggestionElements:0,_selectedSuggestion:null,_previousTypedVal:null,suggest:function(a,l,k){var j={css:{maxHeight:"150px",background:"#FFF",lineHeight:"150%",textDecoration:"underline",overflowX:"hidden",overflowY:"auto",border:"#CCC solid 1px",borderTop:"none",cursor:"pointer"},activeSuggestionCSS:{background:"#E9E9E9"}},i=function(h,g){var m=g.offset();h.css({width:g.outerWidth(),left:m.left+"px",top:m.top+g.outerHeight()+"px"})};k&&e.extend(j,k),j.css.position="absolute",j.css["z-index"]=9999,a.attr("autocomplete","off"),0===this._numSuggestionElements&&f.bind("resize",function(){e(".jquery-form-suggestions").each(function(){var g=e(this),h=g.attr("data-suggest-container");i(g,e(".suggestions-"+h).eq(0))})}),this._numSuggestionElements++;var c=function(g){var h=g.valAttr("suggestion-nr");e.formUtils._selectedSuggestion=null,e.formUtils._previousTypedVal=null,e(".jquery-form-suggestion-"+h).fadeOut("fast")};return a.data("suggestions",l).valAttr("suggestion-nr",this._numSuggestionElements).unbind("focus.suggest").bind("focus.suggest",function(){e(this).trigger("keyup"),e.formUtils._selectedSuggestion=null}).unbind("keyup.suggest").bind("keyup.suggest",function(){var q=e(this),p=[],o=e.trim(q.val()).toLocaleLowerCase();if(o!==e.formUtils._previousTypedVal){e.formUtils._previousTypedVal=o;var n=!1,m=q.valAttr("suggestion-nr"),h=e(".jquery-form-suggestion-"+m);if(h.scrollTop(0),""!==o){var g=o.length>2;e.each(q.data("suggestions"),function(s,r){var t=r.toLocaleLowerCase();return t===o?(p.push("<strong>"+r+"</strong>"),n=!0,!1):void ((0===t.indexOf(o)||g&&t.indexOf(o)>-1)&&p.push(r.replace(new RegExp(o,"gi"),"<strong>$&</strong>")))})}n||0===p.length&&h.length>0?h.hide():p.length>0&&0===h.length?(h=e("<div></div>").css(j.css).appendTo("body"),a.addClass("suggestions-"+m),h.attr("data-suggest-container",m).addClass("jquery-form-suggestions").addClass("jquery-form-suggestion-"+m)):p.length>0&&!h.is(":visible")&&h.show(),p.length>0&&o.length!==p[0].length&&(i(h,q),h.html(""),e.each(p,function(r,s){e("<div></div>").append(s).css({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"5px"}).addClass("form-suggest-element").appendTo(h).click(function(){q.focus(),q.val(e(this).text()),q.trigger("change"),c(q)})}))}}).unbind("keydown.validation").bind("keydown.validation",function(x){var w,v,u=x.keyCode?x.keyCode:x.which,t=e(this);if(13===u&&null!==e.formUtils._selectedSuggestion){if(w=t.valAttr("suggestion-nr"),v=e(".jquery-form-suggestion-"+w),v.length>0){var s=v.find("div").eq(e.formUtils._selectedSuggestion).text();t.val(s),t.trigger("change"),c(t),x.preventDefault()}}else{w=t.valAttr("suggestion-nr"),v=e(".jquery-form-suggestion-"+w);var r=v.children();if(r.length>0&&e.inArray(u,[38,40])>-1){38===u?(null===e.formUtils._selectedSuggestion?e.formUtils._selectedSuggestion=r.length-1:e.formUtils._selectedSuggestion--,e.formUtils._selectedSuggestion<0&&(e.formUtils._selectedSuggestion=r.length-1)):40===u&&(null===e.formUtils._selectedSuggestion?e.formUtils._selectedSuggestion=0:e.formUtils._selectedSuggestion++,e.formUtils._selectedSuggestion>r.length-1&&(e.formUtils._selectedSuggestion=0));var q=v.innerHeight(),p=v.scrollTop(),o=v.children().eq(0).outerHeight(),h=o*e.formUtils._selectedSuggestion;return(h<p||h>p+q)&&v.scrollTop(h),r.removeClass("active-suggestion").css("background","none").eq(e.formUtils._selectedSuggestion).addClass("active-suggestion").css(j.activeSuggestionCSS),x.preventDefault(),!1}}}).unbind("blur.suggest").bind("blur.suggest",function(){c(e(this))}),a},LANG:{errorTitle:"Form submission failed!",requiredField:"This is a required field",requiredFields:"You have not answered all required fields",badTime:"You have not given a correct time",badEmail:"You have not given a correct e-mail address",badTelephone:"You have not given a correct phone number",badSecurityAnswer:"You have not given a correct answer to the security question",badDate:"You have not given a correct date",lengthBadStart:"The input value must be between ",lengthBadEnd:" characters",lengthTooLongStart:"The input value is longer than ",lengthTooShortStart:"The input value is shorter than ",notConfirmed:"Input values could not be confirmed",badDomain:"Incorrect domain value",badUrl:"The input value is not a correct URL",badCustomVal:"The input value is incorrect",andSpaces:" and spaces ",badInt:"The input value was not a correct number",badSecurityNumber:"Your social security number was incorrect",badUKVatAnswer:"Incorrect UK VAT Number",badUKNin:"Incorrect UK NIN",badUKUtr:"Incorrect UK UTR Number",badStrength:"The password isn't strong enough",badNumberOfSelectedOptionsStart:"You have to choose at least ",badNumberOfSelectedOptionsEnd:" answers",badAlphaNumeric:"The input value can only contain alphanumeric characters ",badAlphaNumericExtra:" and ",wrongFileSize:"The file you are trying to upload is too large (max %s)",wrongFileType:"Only files of type %s is allowed",groupCheckedRangeStart:"Please choose between ",groupCheckedTooFewStart:"Please choose at least ",groupCheckedTooManyStart:"Please choose a maximum of ",groupCheckedEnd:" item(s)",badCreditCard:"The credit card number is not correct",badCVV:"The CVV number was not correct",wrongFileDim:"Incorrect image dimensions,",imageTooTall:"the image can not be taller than",imageTooWide:"the image can not be wider than",imageTooSmall:"the image was too small",min:"min",max:"max",imageRatioNotAccepted:"Image ratio is not be accepted",badBrazilTelephoneAnswer:"The phone number entered is invalid",badBrazilCEPAnswer:"The CEP entered is invalid",badBrazilCPFAnswer:"The CPF entered is invalid",badPlPesel:"The PESEL entered is invalid",badPlNip:"The NIP entered is invalid",badPlRegon:"The REGON entered is invalid",badreCaptcha:"Please confirm that you are not a bot",passwordComplexityStart:"Password must contain at least ",passwordComplexitySeparator:", ",passwordComplexityUppercaseInfo:" uppercase letter(s)",passwordComplexityLowercaseInfo:" lowercase letter(s)",passwordComplexitySpecialCharsInfo:" special character(s)",passwordComplexityNumericCharsInfo:" numeric character(s)",passwordComplexityEnd:"."}})}(b,window),function(c){c.formUtils.addValidator({name:"email",validatorFunction:function(a){var j=a.toLowerCase().split("@"),i=j[0],h=j[1];if(i&&h){if(0===i.indexOf('"')){var g=i.length;if(i=i.replace(/\"/g,""),i.length!==g-2){return !1}}return c.formUtils.validators.validate_domain.validatorFunction(j[1])&&0!==i.indexOf(".")&&"."!==i.substring(i.length-1,i.length)&&i.indexOf("..")===-1&&!/[^\w\+\.\-\#\-\_\~\!\$\&\'\(\)\*\+\,\;\=\:]/.test(i)}return !1},errorMessage:"",errorMessageKey:"badEmail"}),c.formUtils.addValidator({name:"domain",validatorFunction:function(d){return d.length>0&&d.length<=253&&!/[^a-zA-Z0-9]/.test(d.slice(-2))&&!/[^a-zA-Z0-9]/.test(d.substr(0,1))&&!/[^a-zA-Z0-9\.\-]/.test(d)&&1===d.split("..").length&&d.split(".").length>1},errorMessage:"",errorMessageKey:"badDomain"}),c.formUtils.addValidator({name:"required",validatorFunction:function(a,j,i,h,g){switch(j.attr("type")){case"checkbox":return j.is(":checked");case"radio":return g.find('input[name="'+j.attr("name")+'"]').filter(":checked").length>0;default:return""!==c.trim(a)}},errorMessage:"",errorMessageKey:function(d){return"top"===d.errorMessagePosition||"function"==typeof d.errorMessagePosition?"requiredFields":"requiredField"}}),c.formUtils.addValidator({name:"length",validatorFunction:function(r,q,p,o){var n=q.valAttr("length"),m=q.attr("type");if(void 0===n){return alert('Please add attribute "data-validation-length" to '+q[0].nodeName+" named "+q.attr("name")),!0}var l,k="file"===m&&void 0!==q.get(0).files?q.get(0).files.length:r.length,a=c.formUtils.numericRangeCheck(k,n);switch(a[0]){case"out":this.errorMessage=o.lengthBadStart+n+o.lengthBadEnd,l=!1;break;case"min":this.errorMessage=o.lengthTooShortStart+a[1]+o.lengthBadEnd,l=!1;break;case"max":this.errorMessage=o.lengthTooLongStart+a[1]+o.lengthBadEnd,l=!1;break;default:l=!0}return l},errorMessage:"",errorMessageKey:""}),c.formUtils.addValidator({name:"url",validatorFunction:function(a){var h=/^(https?|ftp):\/\/((((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|\[|\]|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;if(h.test(a)){var g=a.split("://")[1],f=g.indexOf("/");return f>-1&&(g=g.substr(0,f)),c.formUtils.validators.validate_domain.validatorFunction(g)}return !1},errorMessage:"",errorMessageKey:"badUrl"}),c.formUtils.addValidator({name:"number",validatorFunction:function(x,w,v){if(""!==x){var u,t,s=w.valAttr("allowing")||"",r=w.valAttr("decimal-separator")||v.decimalSeparator,q=!1,p=w.valAttr("step")||"",o=!1,n=w.attr("data-sanitize")||"",m=n.match(/(^|[\s])numberFormat([\s]|$)/i);if(m){if(!window.numeral){throw new ReferenceError("The data-sanitize value numberFormat cannot be used without the numeral library. Please see Data Validation in http://www.formvalidator.net for more information.")}x.length&&(x=String(numeral().unformat(x)))}if(s.indexOf("number")===-1&&(s+=",number"),s.indexOf("negative")===-1&&0===x.indexOf("-")){return !1}if(s.indexOf("range")>-1&&(u=parseFloat(s.substring(s.indexOf("[")+1,s.indexOf(";"))),t=parseFloat(s.substring(s.indexOf(";")+1,s.indexOf("]"))),q=!0),""!==p&&(o=!0),","===r){if(x.indexOf(".")>-1){return !1}x=x.replace(",",".")}if(""===x.replace(/[0-9-]/g,"")&&(!q||x>=u&&x<=t)&&(!o||x%p===0)){return !0}if(s.indexOf("float")>-1&&null!==x.match(new RegExp("^([0-9-]+)\\.([0-9]+)$"))&&(!q||x>=u&&x<=t)&&(!o||x%p===0)){return !0}}return !1},errorMessage:"",errorMessageKey:"badInt"}),c.formUtils.addValidator({name:"alphanumeric",validatorFunction:function(r,q,p,o){var n="^([a-zA-Z0-9",m="]+)$",l=q.valAttr("allowing"),k="";if(l){k=n+l+m;var a=l.replace(/\\/g,"");a.indexOf(" ")>-1&&(a=a.replace(" ",""),a+=o.andSpaces||c.formUtils.LANG.andSpaces),this.errorMessage=o.badAlphaNumeric+o.badAlphaNumericExtra+a}else{k=n+m,this.errorMessage=o.badAlphaNumeric}return new RegExp(k).test(r)},errorMessage:"",errorMessageKey:""}),c.formUtils.addValidator({name:"custom",validatorFunction:function(e,d){var f=new RegExp(d.valAttr("regexp"));return f.test(e)},errorMessage:"",errorMessageKey:"badCustomVal"}),c.formUtils.addValidator({name:"date",validatorFunction:function(a,j,i){var h=j.valAttr("format")||i.dateFormat||"yyyy-mm-dd",g="false"===j.valAttr("require-leading-zero");return c.formUtils.parseDate(a,h,g)!==!1},errorMessage:"",errorMessageKey:"badDate"}),c.formUtils.addValidator({name:"checkbox_group",validatorFunction:function(z,y,x,w,v){var u=!0,t=y.attr("name"),s=c('input[type=checkbox][name^="'+t+'"]',v),r=s.filter(":checked").length,q=y.valAttr("qty");if(void 0===q){var p=y.get(0).nodeName;alert('Attribute "data-validation-qty" is missing from '+p+" named "+y.attr("name"))}var o=c.formUtils.numericRangeCheck(r,q);switch(o[0]){case"out":this.errorMessage=w.groupCheckedRangeStart+q+w.groupCheckedEnd,u=!1;break;case"min":this.errorMessage=w.groupCheckedTooFewStart+o[1]+w.groupCheckedEnd,u=!1;break;case"max":this.errorMessage=w.groupCheckedTooManyStart+o[1]+w.groupCheckedEnd,u=!1;break;default:u=!0}if(!u){var a=function(){s.unbind("click",a),s.filter("*[data-validation]").validateInputOnBlur(w,x,!1,"blur")};s.bind("click",a)}return u}})}(b)});